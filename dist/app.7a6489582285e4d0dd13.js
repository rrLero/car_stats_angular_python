webpackJsonp([0],[,,,,,,function(t,n,e){"use strict";e(7),e(8),e(9),e(10),e(11),e(12),e(13),e(14),e(25),e(26),e(28),e(29),e(30),e(31),e(32),e(33),e(34),e(35),e(36),e(37),e(38),e(39),e(40),e(41),e(42)},function(t,n){},function(t,n){},function(t,n){},function(t,n,e){t.exports=e.p+"images/spinner.svg"},function(t,n,e){"use strict";function config(t){t.otherwise("/")}angular.module("carStats",["public","ui.router"]).config(config),config.$inject=["$urlRouterProvider"]},function(t,n,e){"use strict";function config(t){t.interceptors.push("loadingHttpInterceptor"),t.interceptors.push("accessTokenHttpInterceptor")}angular.module("common",[]).config(config).constant("ApiPath","https://floating-scrubland-23282.herokuapp.com"),config.$inject=["$httpProvider"]},function(t,n,e){"use strict";function run(t,n){t.$on("$stateChangeStart",n.onStateChangeStart)}angular.module("public",["ui.router","common","LocalStorageModule"]).run(run),run.$inject=["$rootScope","AuthRedirectorService"]},function(t,n,e){"use strict";function routeConfig(t){t.state("public",{abstract:!0,template:e(15)}).state("public.home",{url:"/",template:e(16)}).state("public.carsList",{url:"/carsList",template:e(17),controller:"CarsController",controllerAs:"carsCtrl"}).state("public.notesList",{url:"/notesList",template:e(18),controller:"NotesController",controllerAs:"notesCtrl"}).state("public.oneCarNotes",{url:"/carsList/{id}/notes",template:e(19),controller:"OneCarNoteController",controllerAs:"noteCtrl",resolve:{notes:["notesListService","$stateParams",function(t,n){return t.getOneCarNote(n.id)}],cars:["carsListService","$stateParams",function(t,n){return t.getCarsList()}],id:["$stateParams",function(t){return t.id}]}}).state("public.addCar",{url:"/addCar",template:e(20),controller:"AddCarController",controllerAs:"car"}).state("public.addNotes",{url:"/addNote",template:e(21),controller:"AddNoteController",controllerAs:"note",resolve:{cars:["carsListService",function(t){return t.getCarsList()}]}}).state("public.editCar",{url:"/editCar/{id}",template:e(22),controller:"EditCarController",controllerAs:"car",resolve:{cars:["carsListService",function(t){return t.getCarsList()}],id:["$stateParams",function(t){return t.id}]}}).state("public.editNotes",{url:"/editNotes/{id}",template:e(23),controller:"EditNoteController",controllerAs:"note",resolve:{notes:["notesListService",function(t){return t.getNotesList()}],id:["$stateParams",function(t){return t.id}],cars:["carsListService",function(t){return t.getCarsList()}]}}).state("public.login",{url:"/login",template:e(24),controller:"LoginController",controllerAs:"$ctrl"})}angular.module("public").config(routeConfig),routeConfig.$inject=["$stateProvider"]},function(t,n){t.exports='\x3c!--\n  Include stylesheet specific to the public site\n--\x3e\n\x3c!-- <link rel="stylesheet" href="css/public.css"> --\x3e\n<div class="container">\n<div id="insertHere" class="jumbotron">\n    <ui-view></ui-view>\n</div>\n</div>\n'},function(t,n){t.exports='<h1 class="display-3">CarStats!</h1>\n<p class="lead">This is a simple application, for noting car\'s works made by someone in some period.</p>\n<hr class="my-4">\n<p>It was designed and programmed by Roman Levchenko specialy for Andrey Chubin.</p>\n<p class="lead">\n  <a class="btn btn-primary btn-lg" ui-sref="public.carsList" role="button" ui-sref="public.list.carsList">Start Here</a>\n</p>\n'},function(t,n){t.exports='<h3 id="carsTitle">Car\'s List\n\t<span class="pull-right">\n\t  <button type="button" class="btn btn-success btn-lg" ui-sref="public.addCar">+ Add Car</button>\n\t</span>\n</h3>\n<h4 ng-show="carsCtrl.car2.length===0" class="text-center">No cars here, click "+addCar" to add car</h4>\n<div id="borderTable" class="container" ng-if="carsCtrl.car2.length"> \n<table class="table table-hover table-bordered table-striped">\n\t<thead>\n\t\t <tr>\n\t\t    <th class="col-xs-1 hidden-xs">#</th>\n\t\t    <th class="col-xs-2">Gov Number</th>\n\t\t    <th class="col-xs-2">Car Type</th>\n\t\t    <th class="col-xs-6 hidden-xxs">Info</th>\n\t\t    <th class="col-xs-1 hidden-xs">Actions</th>\n\t\t </tr>              \n\t</thead>\n<tbody>\t\n\t<tr ng-repeat="carList in carsCtrl.car2">\n\t    <th class="hidden-xs">{{$index + 1}}</th>\n\t    <th><a ui-sref="public.oneCarNotes({id: carList.id})">{{carList.gov_number}}</a></th>\n\t    <th>{{carList.car_type}}</th>\n\t    <th class="hidden-xxs">{{carList.gov_number_trailer}}</th>\n\t    <th class="hidden-xs">                \t\n\t        \t<button type="button" class="btn btn-danger" aria-haspopup="true" aria-expanded="false" ng-click="carsCtrl.onRemove2(carList.id, $index);">\n\t\t\t    <span class="glyphicon glyphicon-trash"></span>\n\t\t\t  </button>\n\t\t\t  <button type="button" class="btn btn-primary" aria-haspopup="true" aria-expanded="false" ui-sref="public.editCar({id: carList.id})">\n\t\t\t    <span class="glyphicon glyphicon-pencil"></span>\n\t\t\t  </button>\t\t\t\t\t    \t\n\t\t</th>\n\t</tr>\n</tbody>\n</table>\n</div>\n'},function(t,n){t.exports='<h3 id="carsTitle">Note\'s List\n\t<span class="pull-right">\n\t  <button type="button" class="btn btn-success btn-lg" ui-sref="public.addNotes">+ Add Note</button>\n\t</span>\n</h3>\n\n<h4 ng-show="notesCtrl.notes.notes.length===0" class="text-center">No notes here, click "+addNote" to add Note</h4>\n<div id="borderTable" class="container" ng-if="notesCtrl.notes.notes.length"> \n<table class="table table-hover table-bordered table-striped">\n\t<thead>\n\t\t <tr>\n\t\t    <th class="col-xs-1 hidden-xs">#</th>\n\t\t    <th class="col-xs-1">Car</th>\n\t\t    <th class="col-xs-2 hidden-xxs">Date</th>\n\t\t    <th class="col-xs-1 hidden-xs">Km</th>\n\t\t    <th class="col-xs-1 hidden-xs">Pays</th>\n\t\t    <th class="col-xs-5">Works</th>\n\t\t    <th class="col-xs-1 hidden-xs">Actions</th>\n\t\t </tr>              \n\t</thead>\n<tbody>\t\n\t<tr ng-repeat="noteList in notesCtrl.notes.notes">\n\t    <th class="hidden-xs">{{$index + 1}}</th>\n\t    <th><a ui-sref="public.oneCarNotes({id: noteList.car.id})">{{noteList.car.car_type}}_{{noteList.car.gov_number}}</a></th>\n\t    <th class="hidden-xxs">{{notesCtrl.reFormat(noteList.date) | date : \'mediumDate\'}}</th>\n\t    <th class="hidden-xs">{{noteList.km}}</th>\n\t\t<th class="hidden-xs">{{noteList.pays | currency : \'UAH \' }}</th>\n\t\t<th>{{noteList.works}}</th>\n\t    <th class="hidden-xs">                \t\n\t        \t<button type="button" class="btn btn-danger" aria-haspopup="true" aria-expanded="false" ng-click="notesCtrl.onRemove(noteList.id, $index);">\n\t\t\t    <span class="glyphicon glyphicon-trash"></span>\n\t\t\t  </button>\n\t\t\t  <button  \n\t\t\t  class="btn btn-primary" \n\t\t\t  aria-haspopup="true" \n\t\t\t  aria-expanded="false" \n\t\t\t  ui-sref="public.editNotes({id: noteList.id})"\n\t\t\t  >\n\t\t\t    <span class="glyphicon glyphicon-pencil">\n\t\t\t    </span>\n\t\t\t  </button>\t\t\t\t\t    \t\n\t\t</th>\n\t</tr>\n</tbody>\n</table>\n</div>'},function(t,n){t.exports='<h2>Car: {{noteCtrl.cars.car_type}} {{noteCtrl.cars.gov_number}}</h1>\n<hr class="my-4">\n<br>\n\n<div class="container">\n<div class="container">\n<dl class="row col-sm-8">\n\t<dt class="col-sm-6">GovNumber:</dt>\n\t\t<dd class="col-sm-6">{{noteCtrl.cars.gov_number}}</dd>\n\t<dt class="col-sm-6">CarType:</dt>\n\t\t<dd class="col-sm-6">{{noteCtrl.cars.car_type}}</dd>\n\t<dt class="col-sm-6">Description:</dt>\n\t\t<dd class="col-sm-6">{{noteCtrl.cars.gov_number_trailer}}</dd>\n\t<dt class="col-sm-6">Total Run:</dt>\n\t\t<dd class="col-sm-6">{{noteCtrl.notes.run}}</dd>\n\t<dt class="col-sm-6">Payments:</dt>\n\t\t<dd class="col-sm-6">{{noteCtrl.notes.payments | currency : \'UAH \'}}</dd>\n\n</dl>\n<div class="row col-sm-4 align-bottom">\n<div class="input-group input-daterange">\n    <input type="date" class="form-control" value="2012-04-05" ng-model="noteCtrl.date_from">\n    <input type="date" class="form-control" ng-model="noteCtrl.date_to">\n\t<div class="input-group-addon">\n    <button ng-click="noteCtrl.getNotesByDate(noteCtrl.cars.id, noteCtrl.date_to, noteCtrl.date_from)">Apply</button>\t\n\t</div>\n</div>\n\n</div>\n</div>\n\n\n\n<div id="borderTable" class="container"> \n<table class="table table-hover table-bordered table-striped">\n\t<thead>\n\t\t <tr>\n\t\t    <th class="col-xs-1 hidden-xs">#</th>\n\t\t    <th class="col-xs-2">Date</th>\n\t\t    <th class="col-xs-1 hidden-xs">Km</th>\n\t\t    <th class="col-xs-1 hidden-xs">Pays</th>\n\t\t    <th class="col-xs-4">Works</th>\n\t\t </tr>              \n\t</thead>\n<tbody>\t\n\t<tr ng-repeat="noteList in noteCtrl.notes.notes">\n\t    <th class="hidden-xs">{{$index + 1}}</th>\n\t    <th>{{noteCtrl.reFormat(noteList.date) | date : \'mediumDate\'}}</th>\n\t    <th class="col-xs-1 hidden-xs">{{noteList.km}}</th>\n\t\t<th class="col-xs-1 hidden-xs">{{noteList.pays | currency : \'UAH \' }}</th>\n\t\t<th>{{noteList.works}}</th>\n\t</tr>\n</tbody>\n</table>\n</div>\n</div>\n\n'},function(t,n){t.exports='<legend class="text-center">Add Car</legend>\n<form name=\'regForm\' novalidate>\n<div class="form-group row">\n  <label class="col-xs-2 col-form-label">Gov Number</label>\n  <div class="col-xs-10">\n    <input  class="form-control" \n            name="gov_number"\n            ng-model="car.gov_number"\n            required\n            minlength="4"\n            placeholder="Example: AH 12-34 CA"\n            >\n      <span\n        ng-if="(regForm.username.$error.minlength || regForm.gov_number.$error.required) && regForm.gov_number.$touched">\n        gov_number must be at least 4 characters long\n      </span>    \n  </div>\n</div>\n\n<div class="form-group row">\n  <label class="col-xs-2 col-form-label">carType</label>\n  <div class="col-xs-10">\n    <input  class="form-control" \n            name="carType"\n            ng-model="car.car_type"\n            required\n            placeholder="Example: VW"\n            >\n           <span ng-if="regForm.carType.$invalid && regForm.carType.$touched">\n            Field required\n          </span>\n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-2 col-form-label">Description</label>\n  <div class="col-xs-10">\n    <input  class="form-control" \n            name="description"\n            ng-model="car.gov_number_trailer"\n            placeholder="Some Description"\n            >\n  </div>\n</div>\n<button\n    ng-disabled="regForm.$invalid"\n    ng-click="car.submit()"\n    type="button" class="btn btn-success btn-md">Create\n</button>\n</form>\n      \n\n\n\n\n'},function(t,n){t.exports='<legend class="text-center">Add Note</legend>\n<form name=\'regForm\' novalidate>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Car</label>\n  <div class="col-xs-11">\n    <select class="form-control"             \n            name="car"\n            required\n            ng-model="note.car"\n            >\n            <option ng-repeat="car in note.car_type" \n            \t\tvalue="{{car.id}}"\n                >\n            \t\t{{car.car_type}} {{car.gov_number}}\n            </option>    \t\n    </select>\n      <span\n        ng-if="(regForm.car.$error.required) && regForm.car.$touched">\n        Field required\n      </span>    \n  </div>\n</div>\n\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Date</label>\n  <div class="col-xs-4">\n    <input  class="form-control" \n            type="date" \n            name="date"\n            ng-model="note.date"\n            required\n            >\n           <span ng-if="regForm.date.$invalid && regForm.date.$touched">\n            Field required\n          </span>\n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Km</label>\n  <div class="col-xs-11">\n    <input  class="form-control"\n    \t\ttype="number" \n            name="km"\n            ng-model="note.km"\n            placeholder="Kilometers"\n            required\n            maxlength="10">\n          <span ng-if="(regForm.km.$invalid || regForm.km.$error.maxlength)&& regForm.km.$touched">\n            Field required, not more 10 digits\n          </span>\n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Pays</label>\n  <div class="col-xs-11">\n    <input  class="form-control" \n            name="pays"\n            type="number"\n            ng-model="note.pays"\n            placeholder="Pays"\n            maxlength="10">\n          <span ng-if="regForm.pays.$error.maxlength && regForm.pays.$touched">\n            not more 10 digits\n          </span>\n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Works</label>\n  <div class="col-xs-11">\n    <textarea class="form-control" \n            name="works"\n            ng-model="note.works"\n            placeholder="Works"\n            required>         \n    </textarea> \n          <span ng-if="regForm.works.$invalid && regForm.works.$touched">\n            Field required\n          </span>\n  </div>\n</div>\n<button\n    ng-disabled="regForm.$invalid"\n    ng-click="note.submit()"\n    type="button" class="btn btn-success btn-md">Create\n</button>\n</form>'},function(t,n){t.exports='<legend class="text-center">Edit Car</legend>\n<form name=\'regForm\' novalidate>\n<div class="form-group row">\n  <label class="col-xs-2 col-form-label">Gov Number</label>\n  <div class="col-xs-10">\n    <input  class="form-control" \n            name="gov_number"\n            ng-model="car.gov_number"\n            required\n            minlength="4"\n            placeholder="Example: AH 12-34 CA"\n            >\n      <span\n        ng-if="(regForm.username.$error.minlength || regForm.gov_number.$error.required) && regForm.gov_number.$touched">\n        gov_number must be at least 4 characters long\n      </span>    \n  </div>\n</div>\n\n<div class="form-group row">\n  <label class="col-xs-2 col-form-label">carType</label>\n  <div class="col-xs-10">\n    <input  class="form-control" \n            name="carType"\n            ng-model="car.car_type"\n            required\n            placeholder="Example: VW"\n            >\n           <span ng-if="regForm.carType.$invalid && regForm.carType.$touched">\n            Field required\n          </span>\n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-2 col-form-label">Description</label>\n  <div class="col-xs-10">\n    <input  class="form-control" \n            name="description"\n            ng-model="car.gov_number_trailer"\n            placeholder="Some Description"\n            >\n  </div>\n</div>\n<button\n    ng-disabled="regForm.$invalid"\n    ng-click="car.submit()"\n    class="btn btn-success btn-md">Update\n</button>\n</form>'},function(t,n){t.exports='<legend class="text-center">Edit Note</legend>\n<form name=\'regForm\' novalidate>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Car</label>\n  <div class="col-xs-11">\n    <select class="form-control"             \n            name="car"\n            required\n            ng-model="note.car"\n            ng-options="car.gov_number for car in note.cars"\n            >\n            <option \n            \t\tng-value="car.id"\n            \t\t>{{car.car_type}} {{car.gov_number}}\n            </option>    \t\n    </select>\n      <span\n        ng-if="(regForm.car.$error.required) && regForm.car.$touched">\n        Field required\n      </span>    \n  </div>\n</div>\n\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Date</label>\n  <div class="col-xs-4">\n    <input  class="form-control" \n            type="date" \n            name="date"\n            ng-model="note.date"\n            required\n            >\n           <span ng-if="regForm.date.$invalid && regForm.date.$touched">\n            Field required\n          </span>\n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Km</label>\n  <div class="col-xs-11">\n    <input  class="form-control"\n    \t\ttype="number" \n            name="km"\n            ng-model="note.km"\n            placeholder="Kilometers"\n            required\n            maxlength="10">\n          <span ng-if="(regForm.km.$invalid || regForm.km.$error.maxlength)&& regForm.km.$touched">\n            Field required, not more 10 digits\n          </span>\n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Pays</label>\n  <div class="col-xs-11">\n    <input  class="form-control" \n            name="pays"\n            type="number"\n            ng-model="note.pays"\n            placeholder="Pays"\n            maxlength="10">\n          <span ng-if="regForm.pays.$error.maxlength && regForm.pays.$touched">\n            not more 10 digits\n          </span>            \n  </div>\n</div>\n<div class="form-group row">\n  <label class="col-xs-1 col-form-label">Works</label>\n  <div class="col-xs-11">\n    <textarea class="form-control" \n            name="works"\n            ng-model="note.works"\n            placeholder="Works"\n            required>         \n    </textarea> \n          <span ng-if="regForm.works.$invalid && regForm.works.$touched">\n            Field required\n          </span>\n  </div>\n</div>\n<button\n    ng-disabled="regForm.$invalid"\n    ng-click="note.submit()"\n    class="btn btn-success btn-md">Update\n</button>\n</form>'},function(t,n){t.exports='<div class="login">\n  <h2 class="text-center">Car\'s User Login</h2>\n  <div>\n    <div class="form-group">\n      <label>Username</label>\n      <input class="form-control" type="text" ng-model="$ctrl.username" autofocus>\n    </div>\n    <div class="form-group">\n      <label>Password</label>\n      <input class="form-control" type="password" ng-model="$ctrl.password">\n    </div>\n    <div class="form-group">\n      <button class="btn btn-primary" \n              ng-click="$ctrl.login()" \n              ng-disabled="!$ctrl.valid()"\n              >Login\n      </button>\n    <span class="form-group">\n      <button class="btn btn-primary" \n              ng-click="$ctrl.createUser()" \n              ng-disabled="!$ctrl.valid()"\n              >Create\n      </button>\n    </span><div ng-model="$ctrl.message">{{$ctrl.message}} </div>  \n  <div ng-if="$ctrl.error" class="login-error text-center">\n    {{$ctrl.error}}\n  </div>\n</div>\n'},function(t,n,e){"use strict";function LoginController(t,n,e,r,o){var s=this;s.username="",s.password="",s.error="",s.message="",s.login=function(){n.getAccessToken(s.username,s.password).then(function(n){if(t.params&&t.params.toState)t.go(t.params.toState.name,t.params.toParams);else{var e=new Date;e.setDate(e.getDate()+7),o.set("token",n),t.go("public.home")}},function(t){s.error=t.data.message})},s.valid=function(){return""!==s.username&&""!==s.password},s.createUser=function(){n.createUser(s.username,s.password).then(function(t){s.message=t})}}angular.module("public").controller("LoginController",LoginController),LoginController.$inject=["$state","LoginService","CurrentUserService","$rootScope","localStorageService"]},function(t,n,e){"use strict";function LogOutController(t,n,e,r){var o=this;o.logOut=function(){r.remove("token"),n.path("/login")},o.isAuth=function(){return Boolean(e.isAuthenticated())}}angular.module("public").component("logout",{template:e(27),controller:LogOutController}),LogOutController.$inject=["$state","$location","CurrentUserService","localStorageService"]},function(t,n){t.exports='<span ng-if=\'$ctrl.isAuth()\'>\n<a href="" ng-click="$ctrl.logOut()"> \n   \t<span class="glyphicon glyphicon glyphicon-log-out"></span> LogOut\n</a>\n\t<hr class="visible-xs">\n</span>'},function(t,n,e){"use strict";function accessTokenHttpInterceptor(t){return{request:function(n){var e=t.get("token");return n.params?n.params.token=e:n.params={token:e},n},response:function(n){if(n.data.token){var e=n.data.token;t.set("token",e)}return n}}}angular.module("common").factory("accessTokenHttpInterceptor",accessTokenHttpInterceptor),accessTokenHttpInterceptor.$inject=["localStorageService"]},function(t,n,e){"use strict";function LoadingHttpInterceptor(t,n){var e=0;return{request:function(n){return 1==++e&&t.$broadcast("spinner:activate",{on:!0}),n},response:function(n){return 0==--e&&t.$broadcast("spinner:activate",{on:!1}),n},responseError:function(r){return 0==--e&&t.$broadcast("spinner:activate",{on:!1}),n.reject(r)}}}angular.module("common").factory("loadingHttpInterceptor",LoadingHttpInterceptor),LoadingHttpInterceptor.$inject=["$rootScope","$q"]},function(t,n,e){"use strict";function LoadingController(t){function onSpinnerActivate(t,n){e.show=n.on}var n,e=this;e.$onInit=function(){e.show=!1,n=t.$on("spinner:activate",onSpinnerActivate)},e.onDestroy=function(){n()}}angular.module("common").component("loading",{template:'<img src="images/spinner.svg" ng-if="$ctrl.show">',controller:LoadingController}),LoadingController.$inject=["$rootScope"]},function(t,n,e){"use strict";function NotesController(t,n){var e=this;t.getNotesList().then(function(t){e.notes=t}),e.onRemove=function(n,r){confirm("Are You Sure All Data Will Be Erased")&&(t.removeNote(n),e.notes.notes.splice(r,1))},e.editNote=function(n){t.sendNoteToEditView(n)},e.reFormat=function(t){var n=new Date,e=60*n.getTimezoneOffset();return n=Date.parse(t)+e,new Date(n)}}angular.module("public").controller("NotesController",NotesController),NotesController.$inject=["notesListService"]},function(t,n,e){"use strict";function OneCarNoteController(t,n,e,r){var o=this,s=60*(new Date).getTimezoneOffset();o.cars=e.filter(function(t){return t.id==r})[0],o.notes=t,o.date_to=new Date,o.date_from=new Date,o.date_from.setDate(o.date_from.getDate()-30),o.getNotesByDate=function(t,e,r){e.setHours(23,59,59),r.setHours(s/3600,0,0,0),n.getOneCarNote(t,e.getTime()/1e3-s,r.getTime()/1e3+s).then(function(t){o.notes=t})},o.reFormat=function(t){var n=new Date,e=60*n.getTimezoneOffset();return n=Date.parse(t)+e,new Date(n)}}angular.module("public").controller("OneCarNoteController",OneCarNoteController),OneCarNoteController.$inject=["notes","notesListService","cars","id"]},function(t,n,e){"use strict";function EditNoteController(t,n,e,r){var o,s=this,a=60*(new Date).getTimezoneOffset();n=n.notes.filter(function(t){return t.id==e})[0],s.cars=t.arrayModify(r,n.car.id),s.date=new Date(n.date),s.car=s.cars[0],s.km=n.km,s.pays=n.pays,s.works=n.works,s.submit=function(){s.date.setHours(12,0,0,0),o={km:s.km,date:s.date.getTime()/1e3-a,works:s.works,pays:s.pays},t.editNote(o,e)}}angular.module("public").controller("EditNoteController",EditNoteController),EditNoteController.$inject=["notesListService","notes","id","cars"]},function(t,n,e){"use strict";function AddNoteController(t,n,e){var r=60*(new Date).getTimezoneOffset(),o=this,s={};o.car_type=e,o.date=new Date,o.submit=function(){o.date.setHours(12,0,0,0),s={date:o.date.getTime()/1e3-r,km:o.km,works:o.works,pays:o.pays||null},t.addNewNote(s,o.car)}}angular.module("public").controller("AddNoteController",AddNoteController),AddNoteController.$inject=["notesListService","$location","cars"]},function(t,n,e){"use strict";function CarsController(t,n){var e=this;t.getCarsList().then(function(t){e.car2=t}),e.onRemove2=function(r,o){var s=confirm("Are You Sure All Data Will Be Erased");n.log(s),s&&(t.removeCar(r),e.car2.splice(o,1))}}angular.module("public").controller("CarsController",CarsController),CarsController.$inject=["carsListService","$log"]},function(t,n,e){"use strict";function EditCarController(t,n,e){var r,o=this;n=n.filter(function(t){return t.id==e}),o.gov_number=n[0].gov_number,o.car_type=n[0].car_type,o.gov_number_trailer=n[0].gov_number_trailer,o.submit=function(){r={gov_number:o.gov_number,car_type:o.car_type,gov_number_trailer:o.gov_number_trailer},t.editCar(r,n[0].id)}}angular.module("public").controller("EditCarController",EditCarController),EditCarController.$inject=["carsListService","cars","id"]},function(t,n,e){"use strict";function AddCarController(t,n){var e=this,r={};e.submit=function(){r={gov_number:e.gov_number,car_type:e.car_type,gov_number_trailer:e.gov_number_trailer},t.addNewCar(r)}}angular.module("public").controller("AddCarController",AddCarController),AddCarController.$inject=["carsListService","$location"]},function(t,n,e){"use strict";function notesListService(t,n,e){var r=this;(new Date).getTimezoneOffset();r.getNotesList=function(){return t.get(n+"/notes").then(function(t){return t.data})},r.removeNote=function(e){return t.delete(n+"/notes/"+e).then(function(t){return console.log(t.data),t.data})},r.getOneCarNote=function(e,r,o){o=o||Date.now()/1e3-2592e3,r=r||new Date/1e3+86400;var s={};return s.params={date_to:r,date_from:o},t.get(n+"/notes/"+e,s).then(function(t){return t.data})},r.addNewNote=function(r,o){return t.post(n+"/notes/"+o,r).then(function(t){return console.log(t.data),e.url("/notesList"),t.data})},r.arrayModify=function(t,n){var e=t.findIndex(function(t){return t.id==n}),r=t.splice(e,1);return t.unshift(r[0]),t},r.editNote=function(r,o){return t.put(n+"/notes/"+o,r).then(function(t){return console.log(t.data),e.url("/notesList"),t.data})}}angular.module("common").service("notesListService",notesListService),notesListService.$inject=["$http","ApiPath","$location"]},function(t,n,e){"use strict";function carsListService(t,n,e,r){var o=this;o.getCarsList=function(){return t.get(n+"/car").then(function(t){return t.data})},o.removeCar=function(e){return t.delete(n+"/car/"+e).then(function(t){return r.log(t.data),t.data})},o.addNewCar=function(o){return t.post(n+"/car",o).then(function(t){return r.log(t.data),e.url("/carsList"),t.data})},o.editCar=function(o,s){return t.put(n+"/car/"+s,o).then(function(t){return r.log(t.data),e.url("/carsList"),t.data})}}angular.module("common").service("carsListService",carsListService),carsListService.$inject=["$http","ApiPath","$location","$log"]},function(t,n,e){"use strict";function LoginService(t,n,e,r,o){var s=this;s.getAccessToken=function(e,r){var o={user_name:e,password:r};return t.post(n+"/get_token",o).then(function(t){return t.data.token})},s.getToken=function(){return r.get("token")},s.createUser=function(e,r){var o={user_name:e,password:r};return t.post(n+"/user",o).then(function(t){return t.data.message},function(t){return t.data.message})}}angular.module("public").service("LoginService",LoginService),LoginService.$inject=["$http","ApiPath","$rootScope","localStorageService","$state"]},function(t,n,e){"use strict";function CurrentUserService(t){var n=this,e="";n.isAuthenticated=function(){return e=t.get("token")}}angular.module("public").service("CurrentUserService",CurrentUserService),CurrentUserService.$inject=["localStorageService"]},function(t,n,e){"use strict";function AuthRedirectorService(t,n){this.onStateChangeStart=function(e,r,o,s,a){0!==r.name.indexOf("public.")||"public.login"==r.name||n.isAuthenticated()||(e.preventDefault(),t.go("public.login",{toState:r,toParams:o}))}}angular.module("public").service("AuthRedirectorService",AuthRedirectorService),AuthRedirectorService.$inject=["$state","CurrentUserService"]}],[6]);